{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { useState, useEffect } from 'react';\nexport const usePosition = () => {\n  _s();\n\n  const [position, setPosition] = useState({});\n  const [error, setError] = useState(null);\n\n  const onChange = _ref => {\n    let {\n      coords\n    } = _ref;\n    setPosition({\n      latitude: coords.latitude,\n      longitude: coords.longitude\n    });\n  };\n\n  const onError = error => {\n    setError(error.message);\n  };\n\n  useEffect(() => {\n    const geo = navigator.geolocation;\n\n    if (!geo) {\n      setError('Geolocation is not supported');\n      return;\n    }\n\n    watcher = geo.watchPosition(onChange, onError);\n    return () => geo.clearWatch(watcher);\n  }, []);\n  return { ...position,\n    error\n  };\n};\n\n_s(usePosition, \"dynHhIjHiH1gzjmYywOPM1LY5S8=\");","map":{"version":3,"names":["useState","useEffect","usePosition","position","setPosition","error","setError","onChange","coords","latitude","longitude","onError","message","geo","navigator","geolocation","watcher","watchPosition","clearWatch"],"sources":["/Users/yuehuanan/Desktop/Learning/net/map/frontend/src/usePosition.js"],"sourcesContent":["import {useState, useEffect} from 'react';\nexport const usePosition = () => {\n  const [position, setPosition] = useState({});\n  const [error, setError] = useState(null);\n  \n  const onChange = ({coords}) => {\n    setPosition({\n      latitude: coords.latitude,\n      longitude: coords.longitude,\n    });\n  };\n  const onError = (error) => {\n    setError(error.message);\n  };\n  useEffect(() => {\n    const geo = navigator.geolocation;\n    if (!geo) {\n      setError('Geolocation is not supported');\n      return;\n    }\n    watcher = geo.watchPosition(onChange, onError);\n    return () => geo.clearWatch(watcher);\n  }, []);\n  return {...position, error};\n}"],"mappings":";;AAAA,SAAQA,QAAR,EAAkBC,SAAlB,QAAkC,OAAlC;AACA,OAAO,MAAMC,WAAW,GAAG,MAAM;EAAA;;EAC/B,MAAM,CAACC,QAAD,EAAWC,WAAX,IAA0BJ,QAAQ,CAAC,EAAD,CAAxC;EACA,MAAM,CAACK,KAAD,EAAQC,QAAR,IAAoBN,QAAQ,CAAC,IAAD,CAAlC;;EAEA,MAAMO,QAAQ,GAAG,QAAc;IAAA,IAAb;MAACC;IAAD,CAAa;IAC7BJ,WAAW,CAAC;MACVK,QAAQ,EAAED,MAAM,CAACC,QADP;MAEVC,SAAS,EAAEF,MAAM,CAACE;IAFR,CAAD,CAAX;EAID,CALD;;EAMA,MAAMC,OAAO,GAAIN,KAAD,IAAW;IACzBC,QAAQ,CAACD,KAAK,CAACO,OAAP,CAAR;EACD,CAFD;;EAGAX,SAAS,CAAC,MAAM;IACd,MAAMY,GAAG,GAAGC,SAAS,CAACC,WAAtB;;IACA,IAAI,CAACF,GAAL,EAAU;MACRP,QAAQ,CAAC,8BAAD,CAAR;MACA;IACD;;IACDU,OAAO,GAAGH,GAAG,CAACI,aAAJ,CAAkBV,QAAlB,EAA4BI,OAA5B,CAAV;IACA,OAAO,MAAME,GAAG,CAACK,UAAJ,CAAeF,OAAf,CAAb;EACD,CARQ,EAQN,EARM,CAAT;EASA,OAAO,EAAC,GAAGb,QAAJ;IAAcE;EAAd,CAAP;AACD,CAvBM;;GAAMH,W"},"metadata":{},"sourceType":"module"}